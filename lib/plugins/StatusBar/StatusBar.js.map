{"version":3,"sources":["../../../src/plugins/StatusBar/StatusBar.js"],"names":["throttle","require","classNames","statusBarStates","h","calculateProcessingProgress","files","progresses","Object","keys","forEach","fileID","progress","preprocess","push","postprocess","mode","message","value","filter","isDeterminate","reduce","total","index","all","length","togglePauseResume","props","isAllComplete","resumableUploads","cancelAll","isAllPaused","resumeAll","pauseAll","module","exports","uploadState","progressValue","totalProgress","progressMode","progressBarContent","STATE_PREPROCESSING","STATE_POSTPROCESSING","ProgressBarProcessing","STATE_COMPLETE","ProgressBarComplete","STATE_UPLOADING","ProgressBarUploading","STATE_ERROR","undefined","ProgressBarError","width","isHidden","STATE_WAITING","hideUploadButton","newFiles","hideAfterFinish","progressClassNames","statusBarClassNames","showProgressDetails","error","UploadBtn","uploadBtnClassNames","i18n","smart_count","startUpload","uploadStarted","RetryBtn","retryAll","CancelBtn","PauseResumeButtons","title","Math","round","progressDetails","inProgress","complete","totalUploadedSize","totalSize","time","totalETA","ThrottledProgressDetails","leading","trailing","isUploadStarted"],"mappings":"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","file":"StatusBar.js","sourcesContent":["const throttle = require('lodash.throttle')\nconst classNames = require('classnames')\nconst statusBarStates = require('./StatusBarStates')\nconst { h } = require('preact')\n\nfunction calculateProcessingProgress (files) {\n  // Collect pre or postprocessing progress states.\n  const progresses = []\n  Object.keys(files).forEach((fileID) => {\n    const { progress } = files[fileID]\n    if (progress.preprocess) {\n      progresses.push(progress.preprocess)\n    }\n    if (progress.postprocess) {\n      progresses.push(progress.postprocess)\n    }\n  })\n\n  // In the future we should probably do this differently. For now we'll take the\n  // mode and message from the first fileâ€¦\n  const { mode, message } = progresses[0]\n  const value = progresses.filter(isDeterminate).reduce((total, progress, index, all) => {\n    return total + progress.value / all.length\n  }, 0)\n  function isDeterminate (progress) {\n    return progress.mode === 'determinate'\n  }\n\n  return {\n    mode,\n    message,\n    value\n  }\n}\n\nfunction togglePauseResume (props) {\n  if (props.isAllComplete) return\n\n  if (!props.resumableUploads) {\n    return props.cancelAll()\n  }\n\n  if (props.isAllPaused) {\n    return props.resumeAll()\n  }\n\n  return props.pauseAll()\n}\n\nmodule.exports = (props) => {\n  props = props || {}\n\n  const uploadState = props.uploadState\n\n  let progressValue = props.totalProgress\n  let progressMode\n  let progressBarContent\n\n  if (uploadState === statusBarStates.STATE_PREPROCESSING || uploadState === statusBarStates.STATE_POSTPROCESSING) {\n    const progress = calculateProcessingProgress(props.files)\n    progressMode = progress.mode\n    if (progressMode === 'determinate') {\n      progressValue = progress.value * 100\n    }\n\n    progressBarContent = ProgressBarProcessing(progress)\n  } else if (uploadState === statusBarStates.STATE_COMPLETE) {\n    progressBarContent = ProgressBarComplete(props)\n  } else if (uploadState === statusBarStates.STATE_UPLOADING) {\n    progressBarContent = ProgressBarUploading(props)\n  } else if (uploadState === statusBarStates.STATE_ERROR) {\n    progressValue = undefined\n    progressBarContent = ProgressBarError(props)\n  }\n\n  const width = typeof progressValue === 'number' ? progressValue : 100\n  const isHidden = (uploadState === statusBarStates.STATE_WAITING && props.hideUploadButton) ||\n    (uploadState === statusBarStates.STATE_WAITING && !props.newFiles > 0) ||\n    (uploadState === statusBarStates.STATE_COMPLETE && props.hideAfterFinish)\n\n  const progressClassNames = `uppy-StatusBar-progress\n                           ${progressMode ? 'is-' + progressMode : ''}`\n\n  const statusBarClassNames = classNames(\n    'uppy',\n    'uppy-StatusBar',\n    `is-${uploadState}`,\n    { 'uppy-StatusBar--detailedProgress': props.showProgressDetails }\n  )\n\n  return (\n    <div class={statusBarClassNames} aria-hidden={isHidden}>\n      <div class={progressClassNames}\n        style={{ width: width + '%' }}\n        role=\"progressbar\"\n        aria-valuemin=\"0\"\n        aria-valuemax=\"100\"\n        aria-valuenow={progressValue} />\n      {progressBarContent}\n      <div class=\"uppy-StatusBar-actions\">\n        { props.newFiles && !props.hideUploadButton ? <UploadBtn {...props} uploadState={uploadState} /> : null }\n        { props.error ? <RetryBtn {...props} /> : null }\n        { uploadState !== statusBarStates.STATE_WAITING && uploadState !== statusBarStates.STATE_COMPLETE\n          ? <CancelBtn {...props} />\n          : null\n        }\n      </div>\n    </div>\n  )\n}\n\nconst UploadBtn = (props) => {\n  const uploadBtnClassNames = classNames(\n    'uppy-u-reset',\n    'uppy-c-btn',\n    'uppy-StatusBar-actionBtn',\n    'uppy-StatusBar-actionBtn--upload',\n    { 'uppy-c-btn-primary': props.uploadState === statusBarStates.STATE_WAITING }\n    // { 'uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--upload': props.uploadState !== statusBarStates.STATE_WAITING }\n  )\n\n  return <button type=\"button\"\n    class={uploadBtnClassNames}\n    aria-label={props.i18n('uploadXFiles', { smart_count: props.newFiles })}\n    onclick={props.startUpload}>\n    {props.newFiles && props.uploadStarted\n      ? props.i18n('uploadXNewFiles', { smart_count: props.newFiles })\n      : props.i18n('uploadXFiles', { smart_count: props.newFiles })\n    }\n  </button>\n}\n\nconst RetryBtn = (props) => {\n  return <button type=\"button\"\n    class=\"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry\"\n    aria-label={props.i18n('retryUpload')}\n    onclick={props.retryAll}>{props.i18n('retry')}</button>\n}\n\nconst CancelBtn = (props) => {\n  return <button type=\"button\"\n    class=\"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--cancel\"\n    aria-label={props.i18n('cancel')}\n    onclick={props.cancelAll}>{props.i18n('cancel')}</button>\n}\n\nconst PauseResumeButtons = (props) => {\n  const { resumableUploads, isAllPaused, i18n } = props\n  const title = resumableUploads\n                ? isAllPaused\n                  ? i18n('resumeUpload')\n                  : i18n('pauseUpload')\n                : i18n('cancelUpload')\n\n  return <button title={title} class=\"uppy-u-reset uppy-StatusBar-statusIndicator\" type=\"button\" onclick={() => togglePauseResume(props)}>\n    {resumableUploads\n      ? isAllPaused\n        ? <svg aria-hidden=\"true\" class=\"UppyIcon\" width=\"15\" height=\"17\" viewBox=\"0 0 11 13\">\n          <path d=\"M1.26 12.534a.67.67 0 0 1-.674.012.67.67 0 0 1-.336-.583v-11C.25.724.38.5.586.382a.658.658 0 0 1 .673.012l9.165 5.5a.66.66 0 0 1 .325.57.66.66 0 0 1-.325.573l-9.166 5.5z\" />\n        </svg>\n        : <svg aria-hidden=\"true\" class=\"UppyIcon\" width=\"16\" height=\"17\" viewBox=\"0 0 12 13\">\n          <path d=\"M4.888.81v11.38c0 .446-.324.81-.722.81H2.722C2.324 13 2 12.636 2 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81zM9.888.81v11.38c0 .446-.324.81-.722.81H7.722C7.324 13 7 12.636 7 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81z\" />\n        </svg>\n      : <svg aria-hidden=\"true\" class=\"UppyIcon\" width=\"16px\" height=\"16px\" viewBox=\"0 0 19 19\">\n        <path d=\"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z\" />\n      </svg>\n    }\n  </button>\n}\n\nconst ProgressBarProcessing = (props) => {\n  const value = Math.round(props.value * 100)\n\n  return <div class=\"uppy-StatusBar-content\">\n    {props.mode === 'determinate' ? `${value}% \\u00B7 ` : ''}\n    {props.message}\n  </div>\n}\n\nconst progressDetails = (props) => {\n  return <span class=\"uppy-StatusBar-statusSecondary\">\n    { props.inProgress > 1 && props.i18n('filesUploadedOfTotal', { complete: props.complete, smart_count: props.inProgress }) + ' \\u00B7 ' }\n    { props.i18n('dataUploadedOfTotal', { complete: props.totalUploadedSize, total: props.totalSize }) + ' \\u00B7 ' }\n    { props.i18n('xTimeLeft', { time: props.totalETA }) }\n  </span>\n}\n\nconst ThrottledProgressDetails = throttle(progressDetails, 500, { leading: true, trailing: true })\n\nconst ProgressBarUploading = (props) => {\n  if (!props.isUploadStarted || props.isAllComplete) {\n    return null\n  }\n\n  return (\n    <div class=\"uppy-StatusBar-content\" title={props.isAllPaused ? props.i18n('paused') : props.i18n('uploading')}>\n      { <PauseResumeButtons {...props} /> }\n      <div class=\"uppy-StatusBar-status\">\n        <span class=\"uppy-StatusBar-statusPrimary\">{ props.isAllPaused ? props.i18n('paused') : props.i18n('uploading') }: {props.totalProgress}%</span>\n        <br />\n        { !props.isAllPaused && <ThrottledProgressDetails {...props} /> }\n      </div>\n    </div>\n  )\n}\n\nconst ProgressBarComplete = ({ totalProgress, i18n }) => {\n  return (\n    <div class=\"uppy-StatusBar-content\" role=\"status\" title={i18n('complete')}>\n      <svg aria-hidden=\"true\" class=\"uppy-StatusBar-statusIndicator UppyIcon\" width=\"18\" height=\"17\" viewBox=\"0 0 23 17\">\n        <path d=\"M8.944 17L0 7.865l2.555-2.61 6.39 6.525L20.41 0 23 2.645z\" />\n      </svg>\n      {i18n('complete')}\n    </div>\n  )\n}\n\nconst ProgressBarError = ({ error, retryAll, i18n }) => {\n  return (\n    <div class=\"uppy-StatusBar-content\" role=\"alert\">\n      <strong class=\"uppy-StatusBar-contentPadding\">{i18n('uploadFailed')}.</strong>\n      <span class=\"uppy-StatusBar-contentPadding\">{i18n('pleasePressRetry')}</span>\n      <span class=\"uppy-StatusBar-details\"\n        aria-label={error}\n        data-microtip-position=\"top\"\n        data-microtip-size=\"large\"\n        role=\"tooltip\">?</span>\n    </div>\n  )\n}\n"]}