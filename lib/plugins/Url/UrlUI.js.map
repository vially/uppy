{"version":3,"sources":["../../../src/plugins/Url/UrlUI.js"],"names":["require","h","Component","UrlUI","props","handleKeyPress","bind","handleClick","componentDidMount","input","value","setTimeout","focus","preventScroll","ev","keyCode","addFile","render","i18n","module","exports"],"mappings":";;;;;;eAAyBA,QAAQ,QAAR,C;IAAjBC,C,YAAAA,C;IAAGC,S,YAAAA,S;;IAELC,K;;;AACJ,iBAAaC,KAAb,EAAoB;AAAA;;AAAA,iDAClB,sBAAMA,KAAN,CADkB;;AAElB,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,OAAtB;AACA,UAAKC,WAAL,GAAmB,MAAKA,WAAL,CAAiBD,IAAjB,OAAnB;AAHkB;AAInB;;kBAEDE,iB,gCAAqB;AAAA;;AACnB,SAAKC,KAAL,CAAWC,KAAX,GAAmB,EAAnB;AACA;AACA;AACA;AACAC,eAAW,YAAM;AACf,aAAKF,KAAL,CAAWG,KAAX,CAAiB,EAAEC,eAAe,IAAjB,EAAjB;AACD,KAFD,EAEG,GAFH;AAGD,G;;kBAEDR,c,2BAAgBS,E,EAAI;AAClB,QAAIA,GAAGC,OAAH,KAAe,EAAnB,EAAuB;AACrB,WAAKX,KAAL,CAAWY,OAAX,CAAmB,KAAKP,KAAL,CAAWC,KAA9B;AACD;AACF,G;;kBAEDH,W,0BAAe;AACb,SAAKH,KAAL,CAAWY,OAAX,CAAmB,KAAKP,KAAL,CAAWC,KAA9B;AACD,G;;kBAEDO,M,qBAAU;AAAA;;AACR,WAAO;AAAA;AAAA,QAAK,SAAM,UAAX;AACL;AACE,iBAAM,iCADR;AAEE,cAAK,MAFP;AAGE,qBAAa,KAAKb,KAAL,CAAWc,IAAX,CAAgB,kBAAhB,CAHf;AAIE,iBAAS,KAAKb,cAJhB;AAKE,aAAK,aAACI,KAAD,EAAW;AAAE,iBAAKA,KAAL,GAAaA,KAAb;AAAoB,SALxC,GADK;AAOL;AAAA;AAAA;AACE,mBAAM,kEADR;AAEE,gBAAK,QAFP;AAGE,wBAAY,KAAKL,KAAL,CAAWc,IAAX,CAAgB,QAAhB,CAHd;AAIE,mBAAS,KAAKX,WAJhB;AAKG,aAAKH,KAAL,CAAWc,IAAX,CAAgB,QAAhB;AALH;AAPK,KAAP;AAeD,G;;;EA3CiBhB,S;;AA8CpBiB,OAAOC,OAAP,GAAiBjB,KAAjB","file":"UrlUI.js","sourcesContent":["const { h, Component } = require('preact')\n\nclass UrlUI extends Component {\n  constructor (props) {\n    super(props)\n    this.handleKeyPress = this.handleKeyPress.bind(this)\n    this.handleClick = this.handleClick.bind(this)\n  }\n\n  componentDidMount () {\n    this.input.value = ''\n    // My guess about why browser scrolls to top on focus:\n    // Component is mounted right away, but the tab panel might be animating\n    // still, so input element is positioned outside viewport. This fixes it.\n    setTimeout(() => {\n      this.input.focus({ preventScroll: true })\n    }, 150)\n  }\n\n  handleKeyPress (ev) {\n    if (ev.keyCode === 13) {\n      this.props.addFile(this.input.value)\n    }\n  }\n\n  handleClick () {\n    this.props.addFile(this.input.value)\n  }\n\n  render () {\n    return <div class=\"uppy-Url\">\n      <input\n        class=\"uppy-c-textInput uppy-Url-input\"\n        type=\"text\"\n        placeholder={this.props.i18n('enterUrlToImport')}\n        onkeyup={this.handleKeyPress}\n        ref={(input) => { this.input = input }} />\n      <button\n        class=\"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton\"\n        type=\"button\"\n        aria-label={this.props.i18n('import')}\n        onclick={this.handleClick}>\n        {this.props.i18n('import')}\n      </button>\n    </div>\n  }\n}\n\nmodule.exports = UrlUI\n"]}